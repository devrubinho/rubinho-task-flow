---
description: Task time estimation based on task complexity and developer experience level
globs: **/*
alwaysApply: true
---

- **Task Estimation - Time Estimation for Tasks:**
  - **FAST FORMAT**: `task-flow: estimate X` â†’ Estimate time for task X (simplified - no "task" needed)
  - **MULTIPLE TASKS**: `task-flow: estimate X,Y` â†’ Estimate multiple tasks
  - **ALL TASKS**: `task-flow: estimate all` â†’ Estimate all tasks
  - When user says "task-flow: estimate X", "estimate X", "estimate X,Y", "estimate all", or "how long will task X take":
    - **READ**: `.task-flow/.internal/tasks.json` to get task details
    - **CALCULATE**: Time estimate based on number of subtasks and developer experience level
    - **DISPLAY**: Show time estimate with intervals for 3 experience levels (junior, mid, senior)
    - **FORMAT**: Show estimates in hours with ranges (e.g., "10-14 hours" for mid-level)

- **Estimation Rules:**
  1. **Base Calculation**: Count total number of subtasks in the task
  2. **Experience Levels**:
     - **Junior** (0-2 years): Base time Ã— 1.5 multiplier
     - **Mid-level** (3-5 years): Base time Ã— 1.0 multiplier (baseline)
     - **Senior** (6+ years): Base time Ã— 0.7 multiplier
  3. **Time per Subtask**:
     - Simple subtask: 1-2 hours (mid-level baseline)
     - Medium subtask: 2-4 hours (mid-level baseline)
     - Complex subtask: 4-6 hours (mid-level baseline)
  4. **Default Assumption**: Average 2-3 hours per subtask for mid-level (baseline)
  5. **Range Calculation**: 
     - Lower bound: (subtasks Ã— 2) Ã— multiplier
     - Upper bound: (subtasks Ã— 3) Ã— multiplier
     - Round to nearest hour

- **Estimation Formula:**
  ```
  Base hours per subtask: 2-3 hours (mid-level)
  
  Junior (0-2 years):
    Lower: (subtasks Ã— 2) Ã— 1.5
    Upper: (subtasks Ã— 3) Ã— 1.5
  
  Mid-level (3-5 years):
    Lower: subtasks Ã— 2
    Upper: subtasks Ã— 3
  
  Senior (6+ years):
    Lower: (subtasks Ã— 2) Ã— 0.7
    Upper: (subtasks Ã— 3) Ã— 0.7
  ```

- **Display Format:**
  ```
  ðŸ“Š Time Estimation for Task X: [Task Title]
  
  Based on [N] subtasks:
  
  ðŸ‘¶ Junior (0-2 years):     [X-Y] hours
  ðŸ‘¨â€ðŸ’¼ Mid-level (3-5 years): [X-Y] hours
  ðŸ‘´ Senior (6+ years):      [X-Y] hours
  ```

- **Natural Language Phrases:**
  - **FAST FORMAT**: `task-flow: estimate X` or `task-flow estimate X` (simplified)
  - **MULTIPLE**: `task-flow: estimate X,Y` or `task-flow: estimate all`
  - "estimate task X" or "estimate X"
  - "estimate tasks 10,11"
  - "estimate all tasks"
  - "how long will task X take"
  - "time estimate for task X"
  - Any variation asking for time estimation

- **Example:**
  ```
  User: "task-flow: estimate 1"
  
  Task 1 has 5 subtasks:
  
  ðŸ“Š Time Estimation for Task 1: Create authentication system
  
  Based on 5 subtasks:
  
  ðŸ‘¶ Junior (0-2 years):     15-23 hours
  ðŸ‘¨â€ðŸ’¼ Mid-level (3-5 years): 10-15 hours
  ðŸ‘´ Senior (6+ years):     7-11 hours
  ```

- **Integration:**
  - Works with [task_execution.mdc](mdc:.cursor/rules/task_execution.mdc) workflow
  - Uses task data from `.task-flow/.internal/tasks.json`
  - Estimates are informational only (not stored)

- **Principle:**
  > **Provide realistic time estimates based on task complexity (number of subtasks) and developer experience level. Show ranges to account for variability in implementation speed.**